{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 12, "column": 0}, "map": {"version":3,"sources":["file:///Users/agnibharay/Developer/connecto/public/images/default-avatar.png.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 288, height: 288, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAwUlEQVR42k2PrwqDABDGD8RXELNPZDYaBbvN4GOYDD6CmCZicsGqgiuCQdA526aMffNOBmvH3e++P4TPG/v2wro+ME0T5nmWmXd8Ix54mSQJHMdBEARomgbLsghETBdFAcMwQERQVRWu62IcR1Ei/vZ9H4qiQNM0mKYJy7LQdZ0oC+B5nhzTNEXf94jjGG3bngDLhGEIXdeR5zmqqkIURRiG4bTYtyeuZQnbtsWKgbquj5D3M+Sv5u3wzLKLVP2v+QXiY8u2LvFwuAAAAABJRU5ErkJggg==\", blurWidth: 8, blurHeight: 8 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,8HAAA,CAAA,UAAG;IAAE,OAAO;IAAK,QAAQ;IAAK,aAAa;IAA0W,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///Users/agnibharay/Developer/connecto/components/shared/UserSearch.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { collection, query, where, getDocs } from 'firebase/firestore';\nimport { db } from '@/lib/firebase/config';\nimport { UserProfile } from '@/types';\nimport { useRouter } from 'next/navigation';\nimport Image from 'next/image';\n\nexport default function UserSearch() {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState<UserProfile[]>([]);\n  const [loading, setLoading] = useState(false);\n  const router = useRouter();\n\n  const handleSearch = async (value: string) => {\n    setSearchTerm(value);\n    if (value.length < 2) {\n      setSearchResults([]);\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const usersRef = collection(db, 'users');\n      // Search by username first\n      const usernameQuery = query(\n        usersRef,\n        where('username', '>=', value.toLowerCase()),\n        where('username', '<=', value.toLowerCase() + '\\uf8ff')\n      );\n\n      // Search by displayName\n      const displayNameQuery = query(\n        usersRef,\n        where('displayName', '>=', value),\n        where('displayName', '<=', value + '\\uf8ff')\n      );\n\n      // Execute both queries\n      const [usernameSnapshot, displayNameSnapshot] = await Promise.all([\n        getDocs(usernameQuery),\n        getDocs(displayNameQuery)\n      ]);\n\n      // Combine results and remove duplicates\n      const usernameResults = usernameSnapshot.docs.map(doc => ({\n        ...(doc.data() as UserProfile),\n        uid: doc.id\n      }));\n\n      const displayNameResults = displayNameSnapshot.docs.map(doc => ({\n        ...(doc.data() as UserProfile),\n        uid: doc.id\n      }));\n\n      // Combine and remove duplicates using Set\n      const combinedResults = [...usernameResults];\n      displayNameResults.forEach(user => {\n        if (!combinedResults.some(existing => existing.uid === user.uid)) {\n          combinedResults.push(user);\n        }\n      });\n\n      setSearchResults(combinedResults);\n    } catch (error) {\n      console.error('Error searching users:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSelect = (user: UserProfile) => {\n    setSearchTerm('');\n    setSearchResults([]);\n    router.push(`/profile?username=${user.username}`);\n  };\n\n  return (\n    <div className=\"relative\">\n      <input\n        type=\"text\"\n        value={searchTerm}\n        onChange={(e) => handleSearch(e.target.value)}\n        placeholder=\"Search users...\"\n        className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n      />\n\n      {loading && (\n        <div className=\"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md mt-1 shadow-lg p-2\">\n          <p className=\"text-gray-500 text-sm\">Loading...</p>\n        </div>\n      )}\n\n      {searchResults.length > 0 && (\n        <div className=\"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md mt-1 shadow-lg max-h-64 overflow-y-auto\">\n          {searchResults.map((user) => (\n            <div\n              key={user.uid}\n              onClick={() => handleSelect(user)}\n              className=\"flex items-center p-3 hover:bg-gray-50 cursor-pointer\"\n            >\n              <Image\n                src={user.photoURL || '/images/default-avatar.png'}\n                alt={user.displayName || 'User avatar'}\n                width={32}\n                height={32}\n                className=\"rounded-full mr-3\"\n              />\n              <div>\n                <p className=\"font-medium text-gray-900\">{user.displayName}</p>\n                <p className=\"text-sm text-gray-500\">@{user.username}</p>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 198, "column": 0}, "map": {"version":3,"sources":["file:///Users/agnibharay/Developer/connecto/components/shared/Navigation.tsx"],"sourcesContent":["'use client';\n\nimport { Menu, Disclosure, Transition } from '@headlessui/react';\nimport { Bars3Icon, XMarkIcon } from '@heroicons/react/24/outline';\nimport { usePathname } from 'next/navigation';\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { useEffect, useState } from 'react';\nimport { auth, db } from '@/lib/firebase/config';\nimport { doc, onSnapshot } from 'firebase/firestore';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport defaultAvatar from '@/public/images/default-avatar.png';\nimport UserSearch from './UserSearch';\n\ninterface UserProfile {\n  displayName?: string;\n  email?: string;\n  photoURL?: string;\n}\n\nexport default function Navigation() {\n  const [user] = useAuthState(auth);\n  const [userProfile, setUserProfile] = useState<UserProfile | null>(null);\n  const pathname = usePathname();\n\n  useEffect(() => {\n    if (!user) return;\n\n    const unsubscribe = onSnapshot(doc(db, 'users', user.uid), (doc) => {\n      if (doc.exists()) {\n        setUserProfile(doc.data());\n      }\n    });\n\n    return () => unsubscribe();\n  }, [user]);\n\n  if (!user) return null;\n\n  return (\n    <Disclosure as=\"nav\" className=\"bg-white shadow-sm\">\n      {({ open }) => (\n        <>\n          <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\n            <div className=\"flex h-16 justify-between\">\n              <div className=\"flex\">\n                <div className=\"flex flex-shrink-0 items-center\">\n                  <Link href=\"/feed\" className=\"group\">\n                    <div className=\"flex items-center\">\n                      <span className=\"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent transform transition-all duration-300 ease-in-out group-hover:scale-105\">\n                        connecto\n                      </span>\n                      <span className=\"text-2xl font-bold text-purple-600 animate-pulse\">+</span>\n                    </div>\n                  </Link>\n                </div>\n                <div className=\"hidden sm:ml-6 sm:flex sm:space-x-8\">\n                  <Link\n                    href=\"/feed\"\n                    className={`inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium ${\n                      pathname === '/feed'\n                        ? 'border-indigo-500 text-gray-900'\n                        : 'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700'\n                    }`}\n                  >\n                    Feed\n                  </Link>\n                  <Link\n                    href=\"/events\"\n                    className={`inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium ${\n                      pathname.startsWith('/events')\n                        ? 'border-indigo-500 text-gray-900'\n                        : 'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700'\n                    }`}\n                  >\n                    Events\n                  </Link>\n                </div>\n              </div>\n              \n              <div className=\"hidden sm:flex sm:items-center sm:w-96\">\n                <UserSearch />\n              </div>\n\n              <div className=\"flex items-center\">\n                <Menu as=\"div\" className=\"relative ml-3\">\n                  <Menu.Button className=\"flex rounded-full bg-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\">\n                    <span className=\"sr-only\">Open user menu</span>\n                    <Image\n                      className=\"h-8 w-8 rounded-full\"\n                      src={userProfile?.photoURL || defaultAvatar}\n                      alt=\"\"\n                      width={32}\n                      height={32}\n                    />\n                  </Menu.Button>\n                  <Transition\n                    enter=\"transition ease-out duration-200\"\n                    enterFrom=\"transform opacity-0 scale-95\"\n                    enterTo=\"transform opacity-100 scale-100\"\n                    leave=\"transition ease-in duration-75\"\n                    leaveFrom=\"transform opacity-100 scale-100\"\n                    leaveTo=\"transform opacity-0 scale-95\"\n                  >\n                    <Menu.Items className=\"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none\">\n                      <Menu.Item>\n                        {({ active }) => (\n                          <Link\n                            href={`/profile`}\n                            className={`${\n                              active ? 'bg-gray-100' : ''\n                            } block px-4 py-2 text-sm text-gray-700`}\n                          >\n                            Your Profile\n                          </Link>\n                        )}\n                      </Menu.Item>\n                      <Menu.Item>\n                        {({ active }) => (\n                          <button\n                            onClick={() => auth.signOut()}\n                            className={`${\n                              active ? 'bg-gray-100' : ''\n                            } block w-full px-4 py-2 text-left text-sm text-gray-700`}\n                          >\n                            Sign out\n                          </button>\n                        )}\n                      </Menu.Item>\n                    </Menu.Items>\n                  </Transition>\n                </Menu>\n                <div className=\"-mr-2 flex items-center sm:hidden\">\n                  <Disclosure.Button className=\"inline-flex items-center justify-center rounded-md p-2 text-black hover:bg-gray-100 hover:text-black focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 transition-colors duration-200\">\n                    <span className=\"sr-only\">Open main menu</span>\n                    {open ? (\n                      <XMarkIcon className=\"block h-6 w-6\" aria-hidden=\"true\" />\n                    ) : (\n                      <Bars3Icon className=\"block h-6 w-6\" aria-hidden=\"true\" />\n                    )}\n                  </Disclosure.Button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <Disclosure.Panel className=\"sm:hidden\">\n            <div className=\"p-3\">\n              <UserSearch />\n            </div>\n            <div className=\"space-y-1 pb-3 pt-2\">\n              <Link\n                href=\"/feed\"\n                className={`block border-l-4 py-2 pl-3 pr-4 text-base font-medium ${\n                  pathname === '/feed'\n                    ? 'border-indigo-500 bg-indigo-50 text-indigo-700'\n                    : 'border-transparent text-gray-600 hover:border-gray-300 hover:bg-gray-50 hover:text-gray-800'\n                }`}\n              >\n                Feed\n              </Link>\n              <Link\n                href=\"/events\"\n                className={`block border-l-4 py-2 pl-3 pr-4 text-base font-medium ${\n                  pathname.startsWith('/events')\n                    ? 'border-indigo-500 bg-indigo-50 text-indigo-700'\n                    : 'border-transparent text-gray-600 hover:border-gray-300 hover:bg-gray-50 hover:text-gray-800'\n                }`}\n              >\n                Events\n              </Link>\n            </div>\n            <div className=\"border-t border-gray-200 pb-3 pt-4\">\n              <div className=\"flex items-center px-4\">\n                <div className=\"flex-shrink-0\">\n                  <Image\n                    className=\"h-10 w-10 rounded-full\"\n                    src={userProfile?.photoURL || defaultAvatar}\n                    alt=\"\"\n                    width={40}\n                    height={40}\n                  />\n                </div>\n                <div className=\"ml-3\">\n                  <div className=\"text-base font-medium text-gray-800\">\n                    {userProfile?.displayName}\n                  </div>\n                  <div className=\"text-sm font-medium text-gray-500\">\n                    {userProfile?.email}\n                  </div>\n                </div>\n              </div>\n              <div className=\"mt-3 space-y-1\">\n                <Link\n                  href=\"/profile\"\n                  className=\"block px-4 py-2 text-base font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-800\"\n                >\n                  Your Profile\n                </Link>\n                <button\n                  onClick={() => auth.signOut()}\n                  className=\"block w-full px-4 py-2 text-left text-base font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-800\"\n                >\n                  Sign out\n                </button>\n              </div>\n            </div>\n          </Disclosure.Panel>\n        </>\n      )}\n    </Disclosure>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 642, "column": 0}, "map": {"version":3,"sources":["file:///Users/agnibharay/Developer/connecto/components/feed/CreatePost.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef } from 'react';\nimport { auth, db, storage } from '@/lib/firebase/config';\nimport { useAuthState } from 'react-firebase-hooks/auth';\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { collection, addDoc, serverTimestamp, Timestamp } from 'firebase/firestore';\nimport { ref, uploadBytes, getDownloadURL } from 'firebase/storage';\nimport { PhotoIcon } from '@heroicons/react/24/outline';\nimport toast from 'react-hot-toast';\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport type { Post } from '@/types';\nimport Image from 'next/image';\n\nexport default function CreatePost() {\n  const [user] = useAuthState(auth);\n  const [content, setContent] = useState('');\n  const [isUploading, setIsUploading] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const [selectedImage, setSelectedImage] = useState<File | null>(null);\n  const [imagePreview, setImagePreview] = useState<string | null>(null);\n\n  const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      setSelectedImage(file);\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setImagePreview(reader.result as string);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!user || !content.trim()) return;\n\n    setIsUploading(true);\n    try {\n      let imageURL = '';\n      \n      if (selectedImage) {\n        const imageRef = ref(storage, `posts/${user.uid}/${Date.now()}_${selectedImage.name}`);\n        await uploadBytes(imageRef, selectedImage);\n        imageURL = await getDownloadURL(imageRef);\n      }\n\n      const postData = {\n        authorId: user.uid,\n        authorName: user.displayName || 'Anonymous',\n        authorPhotoURL: user.photoURL || '/images/default-avatar.png',\n        content,\n        ...(imageURL && { imageURL }),\n        likes: [],\n        comments: [],\n        createdAt: Timestamp.now()\n      };\n\n      await addDoc(collection(db, 'posts'), postData);\n      \n      setContent('');\n      setSelectedImage(null);\n      setImagePreview(null);\n      toast.success('Post created successfully!');\n    } catch (error) {\n      console.error('Failed to create post:', error);\n      toast.error('Failed to create post');\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  if (!user) return null;\n\n  return (\n    <form onSubmit={handleSubmit} className=\"bg-white rounded-lg shadow p-4 mb-4\">\n      <div className=\"flex space-x-4\">\n        <div className=\"h-10 w-10 relative\">\n          <Image\n            src={user.photoURL || '/images/default-avatar.png'}\n            alt={user.displayName || ''}\n            className=\"rounded-full\"\n            fill\n            sizes=\"40px\"\n          />\n        </div>\n        <div className=\"flex-1\">\n          <textarea\n            value={content}\n            onChange={(e) => setContent(e.target.value)}\n            placeholder=\"What's on your mind?\"\n            className=\"w-full border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm text-black\"\n            rows={3}\n          />\n          {imagePreview && (\n            <div className=\"mt-2 relative\">\n              <div className=\"relative w-full h-48\">\n                <Image\n                  src={imagePreview}\n                  alt=\"Preview\"\n                  className=\"rounded-lg object-cover\"\n                  fill\n                  sizes=\"(max-width: 768px) 100vw, 768px\"\n                />\n              </div>\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setSelectedImage(null);\n                  setImagePreview(null);\n                }}\n                className=\"absolute top-2 right-2 bg-gray-800 bg-opacity-50 text-white rounded-full p-1 hover:bg-opacity-70\"\n              >\n                ×\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n      <div className=\"mt-3 flex items-center justify-between border-t pt-3\">\n        <div className=\"flex space-x-4\">\n          <button\n            type=\"button\"\n            onClick={() => fileInputRef.current?.click()}\n            className=\"inline-flex items-center px-3 py-1 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n          >\n            <PhotoIcon className=\"h-5 w-5 mr-2\" />\n            Photo\n          </button>\n          <input\n            type=\"file\"\n            ref={fileInputRef}\n            onChange={handleImageChange}\n            accept=\"image/*\"\n            className=\"hidden\"\n          />\n        </div>\n        <button\n          type=\"submit\"\n          disabled={!content.trim() || isUploading}\n          className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50\"\n        >\n          {isUploading ? 'Posting...' : 'Post'}\n        </button>\n      </div>\n    </form>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 883, "column": 0}, "map": {"version":3,"sources":["file:///Users/agnibharay/Developer/connecto/components/shared/Icons.tsx"],"sourcesContent":["interface IconProps {\n  className?: string;\n}\n\nexport function CalendarIcon({ className = 'w-6 h-6' }: IconProps) {\n  return (\n    <svg \n      className={className} \n      fill=\"none\" \n      stroke=\"currentColor\" \n      viewBox=\"0 0 24 24\" \n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path \n        strokeLinecap=\"round\" \n        strokeLinejoin=\"round\" \n        strokeWidth={2} \n        d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" \n      />\n    </svg>\n  );\n}\n\nexport function LocationIcon({ className = 'w-6 h-6' }: IconProps) {\n  return (\n    <svg \n      className={className} \n      fill=\"none\" \n      stroke=\"currentColor\" \n      viewBox=\"0 0 24 24\" \n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path \n        strokeLinecap=\"round\" \n        strokeLinejoin=\"round\" \n        strokeWidth={2} \n        d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" \n      />\n      <path \n        strokeLinecap=\"round\" \n        strokeLinejoin=\"round\" \n        strokeWidth={2} \n        d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" \n      />\n    </svg>\n  );\n}"],"names":[],"mappings":";;;;;;AAIO,SAAS,aAAa,EAAE,YAAY,SAAS,EAAa;IAC/D,qBACE,8OAAC;QACC,WAAW;QACX,MAAK;QACL,QAAO;QACP,SAAQ;QACR,OAAM;kBAEN,cAAA,8OAAC;YACC,eAAc;YACd,gBAAe;YACf,aAAa;YACb,GAAE;;;;;;;;;;;AAIV;AAEO,SAAS,aAAa,EAAE,YAAY,SAAS,EAAa;IAC/D,qBACE,8OAAC;QACC,WAAW;QACX,MAAK;QACL,QAAO;QACP,SAAQ;QACR,OAAM;;0BAEN,8OAAC;gBACC,eAAc;gBACd,gBAAe;gBACf,aAAa;gBACb,GAAE;;;;;;0BAEJ,8OAAC;gBACC,eAAc;gBACd,gBAAe;gBACf,aAAa;gBACb,GAAE;;;;;;;;;;;;AAIV","debugId":null}},
    {"offset": {"line": 953, "column": 0}, "map": {"version":3,"sources":["file:///Users/agnibharay/Developer/connecto/components/feed/PostActions.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { useAuth } from '@/components/auth/AuthProvider';\nimport { db } from '@/lib/firebase/config';\nimport { doc, arrayUnion, arrayRemove, updateDoc } from 'firebase/firestore';\nimport { LikeSolid, LikeOutline } from '@/components/shared/Icons';\nimport toast from 'react-hot-toast';\nimport type { Post } from '@/types';\n\ninterface PostActionsProps {\n  post: Post;\n}\n\nexport default function PostActions({ post }: PostActionsProps) {\n  const { user } = useAuth();\n  const [isLiked, setIsLiked] = useState(user ? post.likes.includes(user.uid) : false);\n  const [likesCount, setLikesCount] = useState(post.likes.length);\n\n  const handleLike = async () => {\n    if (!user) {\n      toast.error('Please sign in to like posts');\n      return;\n    }\n\n    const postRef = doc(db, 'posts', post.id);\n    try {\n      if (isLiked) {\n        await updateDoc(postRef, {\n          likes: arrayRemove(user.uid)\n        });\n        setLikesCount(prev => prev - 1);\n      } else {\n        await updateDoc(postRef, {\n          likes: arrayUnion(user.uid)\n        });\n        setLikesCount(prev => prev + 1);\n      }\n      setIsLiked(!isLiked);\n    } catch (error) {\n      console.error('Error updating like:', error);\n      toast.error('Failed to update like');\n    }\n  };\n\n  return (\n    <button\n      onClick={handleLike}\n      className=\"flex items-center space-x-1 text-gray-500 hover:text-blue-500\"\n    >\n      {isLiked ? (\n        <LikeSolid className=\"h-5 w-5 text-blue-500\" />\n      ) : (\n        <LikeOutline className=\"h-5 w-5\" />\n      )}\n      <span>{likesCount}</span>\n    </button>\n  );\n}"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;;;;;;;;AAOe,SAAS,YAAY,EAAE,IAAI,EAAoB;IAC5D,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,mIAAA,CAAA,UAAO,AAAD;IACvB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,OAAO,KAAK,KAAK,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI;IAC9E,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,KAAK,KAAK,CAAC,MAAM;IAE9D,MAAM,aAAa;QACjB,IAAI,CAAC,MAAM;YACT,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;YACZ;QACF;QAEA,MAAM,UAAU,CAAA,GAAA,iKAAA,CAAA,MAAG,AAAD,EAAE,yHAAA,CAAA,KAAE,EAAE,SAAS,KAAK,EAAE;QACxC,IAAI;YACF,IAAI,SAAS;gBACX,MAAM,CAAA,GAAA,iKAAA,CAAA,YAAS,AAAD,EAAE,SAAS;oBACvB,OAAO,CAAA,GAAA,iKAAA,CAAA,cAAW,AAAD,EAAE,KAAK,GAAG;gBAC7B;gBACA,cAAc,CAAA,OAAQ,OAAO;YAC/B,OAAO;gBACL,MAAM,CAAA,GAAA,iKAAA,CAAA,YAAS,AAAD,EAAE,SAAS;oBACvB,OAAO,CAAA,GAAA,iKAAA,CAAA,aAAU,AAAD,EAAE,KAAK,GAAG;gBAC5B;gBACA,cAAc,CAAA,OAAQ,OAAO;YAC/B;YACA,WAAW,CAAC;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;YACtC,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,qBACE,8OAAC;QACC,SAAS;QACT,WAAU;;YAET,wBACC,8OAAC,8HAAA,CAAA,YAAS;gBAAC,WAAU;;;;;qCAErB,8OAAC,8HAAA,CAAA,cAAW;gBAAC,WAAU;;;;;;0BAEzB,8OAAC;0BAAM;;;;;;;;;;;;AAGb","debugId":null}},
    {"offset": {"line": 1036, "column": 0}, "map": {"version":3,"sources":["file:///Users/agnibharay/Developer/connecto/components/feed/Comments.tsx"],"sourcesContent":["import { formatDistanceToNow } from 'date-fns';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { Comment } from '@/types';\n\ninterface CommentsProps {\n  comments: Comment[];\n  maxDisplay?: number;\n  showViewMore?: boolean;\n}\n\ntype TimestampType = {\n  toDate?: () => Date;\n  seconds?: number;\n  nanoseconds?: number;\n} | Date | string | null | undefined;\n\nconst formatTimestamp = (timestamp: TimestampType) => {\n  if (!timestamp) return 'sometime ago';\n  \n  if (typeof timestamp === 'object' && 'toDate' in timestamp && timestamp.toDate) {\n    return formatDistanceToNow(timestamp.toDate(), { addSuffix: true });\n  }\n  \n  if (timestamp instanceof Date) {\n    return formatDistanceToNow(timestamp, { addSuffix: true });\n  }\n  \n  if (typeof timestamp === 'object' && 'seconds' in timestamp && timestamp.seconds !== undefined) {\n    return formatDistanceToNow(new Date(timestamp.seconds * 1000), { addSuffix: true });\n  }\n  \n  if (typeof timestamp === 'string') {\n    return formatDistanceToNow(new Date(timestamp), { addSuffix: true });\n  }\n\n  return 'sometime ago';\n};\n\nexport default function Comments({ comments, maxDisplay = 2, showViewMore = true }: CommentsProps) {\n  const displayComments = maxDisplay ? comments.slice(0, maxDisplay) : comments;\n  const hasMoreComments = comments.length > maxDisplay;\n\n  return (\n    <div className=\"space-y-2 px-3\">\n      {displayComments.map((comment) => (\n        <div key={comment.id} className=\"flex space-x-2\">\n          <div className=\"h-6 w-6 relative flex-shrink-0\">\n            <Image\n              src={comment.authorPhotoURL || '/images/default-avatar.png'}\n              alt={comment.authorName}\n              className=\"rounded-full\"\n              fill\n              sizes=\"24px\"\n            />\n          </div>\n          <div className=\"flex-1\">\n            <p className=\"text-sm\">\n              <Link\n                href={`/profile/${comment.authorId}`}\n                className=\"font-semibold hover:underline text-blue-600\"\n              >\n                {comment.authorName}\n              </Link>{' '}\n              <span className=\"text-gray-700\">{comment.content}</span>\n            </p>\n            <p className=\"text-xs text-gray-400 mt-0.5\">\n              {formatTimestamp(comment.createdAt)}\n            </p>\n          </div>\n        </div>\n      ))}\n      {showViewMore && hasMoreComments && (\n        <button className=\"text-gray-500 text-sm hover:text-gray-700\">\n          View all {comments.length} comments\n        </button>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;AAeA,MAAM,kBAAkB,CAAC;IACvB,IAAI,CAAC,WAAW,OAAO;IAEvB,IAAI,OAAO,cAAc,YAAY,YAAY,aAAa,UAAU,MAAM,EAAE;QAC9E,OAAO,CAAA,GAAA,kJAAA,CAAA,sBAAmB,AAAD,EAAE,UAAU,MAAM,IAAI;YAAE,WAAW;QAAK;IACnE;IAEA,IAAI,qBAAqB,MAAM;QAC7B,OAAO,CAAA,GAAA,kJAAA,CAAA,sBAAmB,AAAD,EAAE,WAAW;YAAE,WAAW;QAAK;IAC1D;IAEA,IAAI,OAAO,cAAc,YAAY,aAAa,aAAa,UAAU,OAAO,KAAK,WAAW;QAC9F,OAAO,CAAA,GAAA,kJAAA,CAAA,sBAAmB,AAAD,EAAE,IAAI,KAAK,UAAU,OAAO,GAAG,OAAO;YAAE,WAAW;QAAK;IACnF;IAEA,IAAI,OAAO,cAAc,UAAU;QACjC,OAAO,CAAA,GAAA,kJAAA,CAAA,sBAAmB,AAAD,EAAE,IAAI,KAAK,YAAY;YAAE,WAAW;QAAK;IACpE;IAEA,OAAO;AACT;AAEe,SAAS,SAAS,EAAE,QAAQ,EAAE,aAAa,CAAC,EAAE,eAAe,IAAI,EAAiB;IAC/F,MAAM,kBAAkB,aAAa,SAAS,KAAK,CAAC,GAAG,cAAc;IACrE,MAAM,kBAAkB,SAAS,MAAM,GAAG;IAE1C,qBACE,8OAAC;QAAI,WAAU;;YACZ,gBAAgB,GAAG,CAAC,CAAC,wBACpB,8OAAC;oBAAqB,WAAU;;sCAC9B,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,6HAAA,CAAA,UAAK;gCACJ,KAAK,QAAQ,cAAc,IAAI;gCAC/B,KAAK,QAAQ,UAAU;gCACvB,WAAU;gCACV,IAAI;gCACJ,OAAM;;;;;;;;;;;sCAGV,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAE,WAAU;;sDACX,8OAAC,4JAAA,CAAA,UAAI;4CACH,MAAM,CAAC,SAAS,EAAE,QAAQ,QAAQ,EAAE;4CACpC,WAAU;sDAET,QAAQ,UAAU;;;;;;wCACb;sDACR,8OAAC;4CAAK,WAAU;sDAAiB,QAAQ,OAAO;;;;;;;;;;;;8CAElD,8OAAC;oCAAE,WAAU;8CACV,gBAAgB,QAAQ,SAAS;;;;;;;;;;;;;mBArB9B,QAAQ,EAAE;;;;;YA0BrB,gBAAgB,iCACf,8OAAC;gBAAO,WAAU;;oBAA4C;oBAClD,SAAS,MAAM;oBAAC;;;;;;;;;;;;;AAKpC","debugId":null}},
    {"offset": {"line": 1173, "column": 0}, "map": {"version":3,"sources":["file:///Users/agnibharay/Developer/connecto/components/feed/CommentInput.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { useAuth } from '@/components/auth/AuthProvider';\nimport { db } from '@/lib/firebase/config';\nimport { doc, updateDoc, arrayUnion, Timestamp } from 'firebase/firestore';\nimport Image from 'next/image';\nimport toast from 'react-hot-toast';\nimport type { Comment } from '@/types';\n\ninterface CommentInputProps {\n  postId: string;\n  onCommentAdded?: () => void;\n}\n\nexport default function CommentInput({ postId, onCommentAdded }: CommentInputProps) {\n  const { user } = useAuth();\n  const [comment, setComment] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!user || !comment.trim() || isSubmitting) return;\n\n    setIsSubmitting(true);\n    try {\n      const now = Timestamp.now();\n      const newComment: Comment = {\n        id: crypto.randomUUID(),\n        authorId: user.uid,\n        authorName: user.displayName || 'Anonymous',\n        authorPhotoURL: user.photoURL || '/images/default-avatar.png',\n        content: comment.trim(),\n        createdAt: now.toDate()\n      };\n\n      const postRef = doc(db, 'posts', postId);\n      await updateDoc(postRef, {\n        comments: arrayUnion({\n          ...newComment,\n          createdAt: now // Store as Timestamp in Firestore\n        })\n      });\n\n      setComment('');\n      onCommentAdded?.();\n      toast.success('Comment added successfully!');\n    } catch (error) {\n      console.error('Error adding comment:', error);\n      toast.error('Failed to add comment');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  if (!user) return null;\n\n  return (\n    <form onSubmit={handleSubmit} className=\"flex items-center space-x-2 p-3 border-t\">\n      <div className=\"h-8 w-8 relative flex-shrink-0\">\n        <Image\n          src={user.photoURL || '/images/default-avatar.png'}\n          alt={user.displayName || ''}\n          className=\"rounded-full\"\n          fill\n          sizes=\"32px\"\n        />\n      </div>\n      <input\n        type=\"text\"\n        value={comment}\n        onChange={(e) => setComment(e.target.value)}\n        placeholder=\"Add a comment...\"\n        className=\"flex-1 bg-gray-50 rounded-full px-4 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500\"\n      />\n      <button\n        type=\"submit\"\n        disabled={!comment.trim() || isSubmitting}\n        className=\"text-blue-500 font-semibold text-sm disabled:opacity-50 disabled:cursor-not-allowed\"\n      >\n        Post\n      </button>\n    </form>\n  );\n}"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;;;;;;;;AAQe,SAAS,aAAa,EAAE,MAAM,EAAE,cAAc,EAAqB;IAChF,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,mIAAA,CAAA,UAAO,AAAD;IACvB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI,CAAC,QAAQ,CAAC,QAAQ,IAAI,MAAM,cAAc;QAE9C,gBAAgB;QAChB,IAAI;YACF,MAAM,MAAM,iKAAA,CAAA,YAAS,CAAC,GAAG;YACzB,MAAM,aAAsB;gBAC1B,IAAI,OAAO,UAAU;gBACrB,UAAU,KAAK,GAAG;gBAClB,YAAY,KAAK,WAAW,IAAI;gBAChC,gBAAgB,KAAK,QAAQ,IAAI;gBACjC,SAAS,QAAQ,IAAI;gBACrB,WAAW,IAAI,MAAM;YACvB;YAEA,MAAM,UAAU,CAAA,GAAA,iKAAA,CAAA,MAAG,AAAD,EAAE,yHAAA,CAAA,KAAE,EAAE,SAAS;YACjC,MAAM,CAAA,GAAA,iKAAA,CAAA,YAAS,AAAD,EAAE,SAAS;gBACvB,UAAU,CAAA,GAAA,iKAAA,CAAA,aAAU,AAAD,EAAE;oBACnB,GAAG,UAAU;oBACb,WAAW,IAAI,kCAAkC;gBACnD;YACF;YAEA,WAAW;YACX;YACA,uJAAA,CAAA,UAAK,CAAC,OAAO,CAAC;QAChB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;YACvC,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,IAAI,CAAC,MAAM,OAAO;IAElB,qBACE,8OAAC;QAAK,UAAU;QAAc,WAAU;;0BACtC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,6HAAA,CAAA,UAAK;oBACJ,KAAK,KAAK,QAAQ,IAAI;oBACtB,KAAK,KAAK,WAAW,IAAI;oBACzB,WAAU;oBACV,IAAI;oBACJ,OAAM;;;;;;;;;;;0BAGV,8OAAC;gBACC,MAAK;gBACL,OAAO;gBACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;gBAC1C,aAAY;gBACZ,WAAU;;;;;;0BAEZ,8OAAC;gBACC,MAAK;gBACL,UAAU,CAAC,QAAQ,IAAI,MAAM;gBAC7B,WAAU;0BACX;;;;;;;;;;;;AAKP","debugId":null}},
    {"offset": {"line": 1283, "column": 0}, "map": {"version":3,"sources":["file:///Users/agnibharay/Developer/connecto/components/feed/PostCard.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { auth, db } from '@/lib/firebase/config';\nimport { formatDistanceToNow } from 'date-fns';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport PostActions from './PostActions';\nimport Comments from './Comments';\nimport CommentInput from './CommentInput';\nimport { Post, UserProfile } from '@/types';\nimport { doc, getDoc, onSnapshot, deleteDoc } from 'firebase/firestore';\nimport { EllipsisVerticalIcon } from '@heroicons/react/24/outline';\nimport { useRouter } from 'next/navigation';\nimport toast from 'react-hot-toast';\n\ninterface PostCardProps {\n  post: Post;\n}\n\ntype TimestampType = {\n  toDate?: () => Date;\n  seconds?: number;\n  nanoseconds?: number;\n} | Date | string | null | undefined;\n\nexport default function PostCard({ post: initialPost }: PostCardProps) {\n  const [user] = useAuthState(auth);\n  const [authorUsername, setAuthorUsername] = useState<string>('');\n  const [post, setPost] = useState(initialPost);\n  const [showDropdown, setShowDropdown] = useState(false);\n  const router = useRouter();\n\n  useEffect(() => {\n    const fetchAuthorUsername = async () => {\n      try {\n        const authorRef = doc(db, 'users', initialPost.authorId);\n        const authorDoc = await getDoc(authorRef);\n        if (authorDoc.exists()) {\n          const authorData = authorDoc.data() as UserProfile;\n          setAuthorUsername(authorData.username);\n        }\n      } catch (error) {\n        console.error('Error fetching author data:', error);\n      }\n    };\n\n    fetchAuthorUsername();\n  }, [initialPost.authorId]);\n\n  useEffect(() => {\n    // Listen for real-time updates to the post\n    const unsubscribe = onSnapshot(doc(db, 'posts', initialPost.id), (doc) => {\n      if (doc.exists()) {\n        setPost({ id: doc.id, ...doc.data() } as Post);\n      }\n    });\n\n    return () => unsubscribe();\n  }, [initialPost.id]);\n\n  const formatTimestamp = (timestamp: TimestampType) => {\n    if (!timestamp) return 'sometime ago';\n    \n    if (typeof timestamp === 'object' && 'toDate' in timestamp && timestamp.toDate) {\n      return formatDistanceToNow(timestamp.toDate(), { addSuffix: true });\n    }\n    \n    if (timestamp instanceof Date) {\n      return formatDistanceToNow(timestamp, { addSuffix: true });\n    }\n    \n    if (typeof timestamp === 'object' && 'seconds' in timestamp && timestamp.seconds !== undefined) {\n      return formatDistanceToNow(new Date(timestamp.seconds * 1000), { addSuffix: true });\n    }\n    \n    if (typeof timestamp === 'string') {\n      return formatDistanceToNow(new Date(timestamp), { addSuffix: true });\n    }\n\n    return 'sometime ago';\n  };\n\n  const handleCommentAdded = () => {\n    // Refresh post data if needed\n  };\n\n  const handleDelete = async () => {\n    if (!user || user.uid !== post.authorId) {\n      toast.error('You do not have permission to delete this post');\n      return;\n    }\n\n    try {\n      await deleteDoc(doc(db, 'posts', post.id));\n      toast.success('Post deleted successfully');\n      router.refresh();\n    } catch (error) {\n      console.error('Error deleting post:', error);\n      toast.error('Failed to delete post');\n    }\n    setShowDropdown(false);\n  };\n\n  return (\n    <article className=\"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden w-full max-w-2xl mx-auto\">\n      <div className=\"p-3 sm:p-4 md:p-6\">\n        {/* Header with dropdown */}\n        <div className=\"flex items-center justify-between mb-3 sm:mb-4\">\n          <Link href={`/profile?username=${authorUsername}`} \n            className=\"flex items-center group flex-1 min-w-0\">\n            <div className=\"relative h-8 w-8 sm:h-10 sm:w-10 flex-shrink-0 mr-2 sm:mr-3\">\n              <Image\n                src={post.authorPhotoURL || '/images/default-avatar.png'}\n                alt={post.authorName}\n                className=\"rounded-full object-cover transition-transform group-hover:scale-105\"\n                fill\n                sizes=\"(max-width: 640px) 32px, 40px\"\n              />\n            </div>\n            <div className=\"flex flex-col min-w-0\">\n              <h3 className=\"text-sm sm:text-base font-semibold text-gray-900 group-hover:text-blue-600 transition-colors truncate\">\n                {post.authorName}\n              </h3>\n              <p className=\"text-xs sm:text-sm text-gray-500 truncate\">@{authorUsername}</p>\n            </div>\n          </Link>\n          \n          {user && user.uid === post.authorId && (\n            <div className=\"relative\">\n              <button\n                onClick={() => setShowDropdown(!showDropdown)}\n                className=\"p-1 hover:bg-gray-100 rounded-full transition-colors\"\n              >\n                <EllipsisVerticalIcon className=\"h-5 w-5 text-gray-500\" />\n              </button>\n              \n              {showDropdown && (\n                <div className=\"absolute right-0 top-full mt-1 w-32 bg-white rounded-md shadow-lg z-10 py-1 border border-gray-200\">\n                  <Link\n                    href={`/posts/${post.id}/edit`}\n                    className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors\"\n                  >\n                    Edit\n                  </Link>\n                  <button\n                    onClick={handleDelete}\n                    className=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100 transition-colors\"\n                  >\n                    Delete\n                  </button>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* Content */}\n        <Link href={`/posts/${post.id}`} className=\"block space-y-3 sm:space-y-4\">\n          <p className=\"text-sm sm:text-base text-gray-800 leading-relaxed break-words line-clamp-4 sm:line-clamp-none\">\n            {post.content}\n          </p>\n          \n          {post.imageURL && (\n            <div className=\"relative w-full aspect-video rounded-lg overflow-hidden bg-gray-50\">\n              <Image\n                src={post.imageURL}\n                alt=\"Post content\"\n                className=\"object-cover transform hover:scale-105 transition-transform duration-500\"\n                fill\n                sizes=\"(max-width: 640px) 100vw, (max-width: 1024px) 75vw, 50vw\"\n                priority={false}\n                loading=\"lazy\"\n              />\n            </div>\n          )}\n        </Link>\n\n        {/* Footer */}\n        <div className=\"mt-3 sm:mt-4\">\n          <div className=\"flex items-center justify-between pt-3 border-t border-gray-100\">\n            <div className=\"flex-1 min-w-0\">\n              <PostActions post={post} />\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-xs text-gray-500\">\n                {post.comments?.length || 0} comments\n              </span>\n              <time \n                className=\"text-xs sm:text-sm text-gray-400 flex-shrink-0\" \n                dateTime={post.createdAt?.toString()}\n              >\n                • {formatTimestamp(post.createdAt)}\n              </time>\n            </div>\n          </div>\n\n          {/* Comments section */}\n          {post.comments && post.comments.length > 0 && (\n            <div className=\"mt-2\">\n              <Comments comments={post.comments} maxDisplay={2} />\n            </div>\n          )}\n\n          {/* Comment input */}\n          <CommentInput postId={post.id} onCommentAdded={handleCommentAdded} />\n        </div>\n      </div>\n    </article>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1659, "column": 0}, "map": {"version":3,"sources":["file:///Users/agnibharay/Developer/connecto/app/%28main%29/feed/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { collection, query, orderBy, limit } from 'firebase/firestore';\nimport { useCollection } from 'react-firebase-hooks/firestore';\nimport { auth, db } from '@/lib/firebase/config';\nimport Navigation from '@/components/shared/Navigation';\nimport CreatePost from '@/components/feed/CreatePost';\nimport PostCard from '@/components/feed/PostCard';\nimport type { Post } from '@/types';\n\nexport default function FeedPage() {\n  const [user, loading] = useAuthState(auth);\n  const router = useRouter();\n\n  // Redirect to auth page if not logged in\n  useEffect(() => {\n    if (!loading && !user) {\n      router.push('/auth');\n    }\n  }, [user, loading, router]);\n\n  // Get posts with real-time updates\n  const [postsSnapshot] = useCollection(\n    query(\n      collection(db, 'posts'),\n      orderBy('createdAt', 'desc'),\n      limit(50)\n    )\n  );\n\n  const posts = postsSnapshot?.docs.map(doc => ({\n    id: doc.id,\n    ...doc.data()\n  })) as Post[] | undefined;\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-100\">\n        <Navigation />\n        <main className=\"container mx-auto max-w-2xl px-4 py-8\">\n          <div className=\"animate-pulse space-y-4\">\n            <div className=\"h-40 bg-white rounded-lg shadow\" />\n            <div className=\"h-60 bg-white rounded-lg shadow\" />\n            <div className=\"h-60 bg-white rounded-lg shadow\" />\n          </div>\n        </main>\n      </div>\n    );\n  }\n\n  if (!user) return null;\n\n  return (\n    <div className=\"min-h-screen bg-gray-100\">\n      <Navigation />\n      <main className=\"container mx-auto max-w-2xl px-4 py-8\">\n        <CreatePost />\n        <div className=\"space-y-4\">\n          {posts?.map((post) => (\n            <PostCard key={post.id} post={post} />\n          ))}\n          {posts?.length === 0 && (\n            <div className=\"text-center py-8\">\n              <p className=\"text-gray-500\">No posts yet. Be the first to post!</p>\n            </div>\n          )}\n        </div>\n      </main>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAVA;;;;;;;;;;;AAae,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,0KAAA,CAAA,eAAY,AAAD,EAAE,yHAAA,CAAA,OAAI;IACzC,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,yCAAyC;IACzC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,WAAW,CAAC,MAAM;YACrB,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAM;QAAS;KAAO;IAE1B,mCAAmC;IACnC,MAAM,CAAC,cAAc,GAAG,CAAA,GAAA,+KAAA,CAAA,gBAAa,AAAD,EAClC,CAAA,GAAA,iKAAA,CAAA,QAAK,AAAD,EACF,CAAA,GAAA,iKAAA,CAAA,aAAU,AAAD,EAAE,yHAAA,CAAA,KAAE,EAAE,UACf,CAAA,GAAA,iKAAA,CAAA,UAAO,AAAD,EAAE,aAAa,SACrB,CAAA,GAAA,iKAAA,CAAA,QAAK,AAAD,EAAE;IAIV,MAAM,QAAQ,eAAe,KAAK,IAAI,CAAA,MAAO,CAAC;YAC5C,IAAI,IAAI,EAAE;YACV,GAAG,IAAI,IAAI,EAAE;QACf,CAAC;IAED,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC,mIAAA,CAAA,UAAU;;;;;8BACX,8OAAC;oBAAK,WAAU;8BACd,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;IAKzB;IAEA,IAAI,CAAC,MAAM,OAAO;IAElB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,mIAAA,CAAA,UAAU;;;;;0BACX,8OAAC;gBAAK,WAAU;;kCACd,8OAAC,iIAAA,CAAA,UAAU;;;;;kCACX,8OAAC;wBAAI,WAAU;;4BACZ,OAAO,IAAI,CAAC,qBACX,8OAAC,+HAAA,CAAA,UAAQ;oCAAe,MAAM;mCAAf,KAAK,EAAE;;;;;4BAEvB,OAAO,WAAW,mBACjB,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAE,WAAU;8CAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO3C","debugId":null}}]
}