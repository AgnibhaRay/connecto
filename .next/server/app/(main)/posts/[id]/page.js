(()=>{var e={};e.id=903,e.ids=[903],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14985:e=>{"use strict";e.exports=require("dns")},16131:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var r=t(60687);function a(){return(0,r.jsx)("svg",{className:"w-4 h-4 inline-block ml-1 text-blue-500",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{d:"M19.965 8.521C19.988 8.347 20 8.173 20 8c0-2.21-1.79-4-4-4-0.174 0-0.348 0.012-0.521 0.035C14.536 2.792 13.154 2 11.5 2S8.464 2.792 7.521 4.035A3.693 3.693 0 0 0 7 4c-2.21 0-4 1.79-4 4 0 0.173 0.012 0.347 0.035 0.521C2.792 9.464 2 10.846 2 12.5s0.792 3.036 2.035 3.979A4.028 4.028 0 0 0 4 17c0 2.21 1.79 4 4 4 0.174 0 0.348-0.012 0.521-0.035C9.464 21.208 10.846 22 12.5 22s3.036-0.792 3.979-2.035A3.693 3.693 0 0 0 17 20c2.21 0 4-1.79 4-4a4.028 4.028 0 0 0-0.035-0.521C21.208 14.536 22 13.154 22 11.5s-0.792-3.036-2.035-3.979zM10.5 16.5L7 13l1.41-1.41L10.5 13.67l5.09-5.09L17 10l-6.5 6.5z"})})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},25519:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=t(65239),a=t(48088),i=t(88170),n=t.n(i),o=t(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(s,l);let d={children:["",{children:["(main)",{children:["posts",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,66824)),"/Users/agnibharay/Developer/connecto/app/(main)/posts/[id]/page.tsx"]}]},{}]},{}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"/Users/agnibharay/Developer/connecto/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/agnibharay/Developer/connecto/app/(main)/posts/[id]/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(main)/posts/[id]/page",pathname:"/posts/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29946:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var r=t(60687),a=t(43210);t(56304),t(75535);var i=t(16189),n=t(30474),o=t(78201),l=t(88497),d=t(69605),c=t(16131);function u(e){return e?e instanceof Date?e:"object"==typeof e&&"toDate"in e?e.toDate():"string"==typeof e?new Date(e):"object"==typeof e&&"seconds"in e?new Date(1e3*e.seconds):new Date:new Date}function m({params:e}){(0,a.use)(e);let[s,t]=(0,a.useState)(null),[m,p]=(0,a.useState)(!1),[x,h]=(0,a.useState)({}),[v,g]=(0,a.useState)(!0);return v?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,r.jsx)(l.A,{}),(0,r.jsx)("div",{className:"max-w-2xl mx-auto p-4",children:(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)("div",{className:"h-12 w-12 bg-gray-200 rounded-full"}),(0,r.jsxs)("div",{className:"ml-4 space-y-2",children:[(0,r.jsx)("div",{className:"h-4 w-32 bg-gray-200 rounded"}),(0,r.jsx)("div",{className:"h-3 w-24 bg-gray-200 rounded"})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded"}),(0,r.jsx)("div",{className:"h-96 bg-gray-200 rounded"})]})]})})})]}):(s||(0,i.notFound)(),(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,r.jsx)(l.A,{}),(0,r.jsx)("div",{className:"max-w-2xl mx-auto p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)("div",{className:"h-12 w-12 relative",children:(0,r.jsx)(n.default,{src:s.authorPhotoURL||"/images/default-avatar.png",alt:s.authorName,className:"rounded-full",fill:!0,sizes:"48px"})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[s.authorName,m&&(0,r.jsx)(c.A,{})]}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:(0,o.m)(u(s.createdAt),{addSuffix:!0})})]})]}),(0,r.jsx)("p",{className:"text-gray-900 text-lg mb-6",children:s.content}),s.imageURL&&(0,r.jsx)("div",{className:"mb-6 relative h-96",children:(0,r.jsx)(n.default,{src:s.imageURL,alt:"Post attachment",className:"rounded-lg object-cover",fill:!0,sizes:"(max-width: 768px) 100vw, 768px"})}),(0,r.jsx)(d.A,{post:s})]}),(0,r.jsxs)("div",{className:"border-t border-gray-200 bg-blue-50 p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Comments"}),(0,r.jsxs)("div",{className:"space-y-4",children:[s.comments?.map(e=>(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("div",{className:"h-10 w-10 relative",children:(0,r.jsx)(n.default,{src:e.authorPhotoURL||"/images/default-avatar.png",alt:e.authorName,className:"rounded-full",fill:!0,sizes:"40px"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm hover:bg-blue-100 transition-colors",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[(0,r.jsx)("p",{className:"font-medium text-gray-900",children:e.authorName}),x[e.authorId]&&(0,r.jsx)(c.A,{})]}),(0,r.jsx)("p",{className:"text-gray-500",children:e.content})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:(0,o.m)(u(e.createdAt),{addSuffix:!0})})]})]},e.id)),(!s.comments||0===s.comments.length)&&(0,r.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No comments yet. Be the first to comment!"})]})]})]})})]}))}},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},55511:e=>{"use strict";e.exports=require("crypto")},59811:(e,s,t)=>{Promise.resolve().then(t.bind(t,29946))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66824:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/agnibharay/Developer/connecto/app/(main)/posts/[id]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/agnibharay/Developer/connecto/app/(main)/posts/[id]/page.tsx","default")},69605:(e,s,t)=>{"use strict";t.d(s,{A:()=>u});var r=t(60687),a=t(43210),i=t(35451),n=t(56304),o=t(75535),l=t(99219),d=t(94494),c=t(37590);function u({post:e}){let{user:s}=(0,i.A)(),[t,u]=(0,a.useState)(!!s&&e.likes.includes(s.uid)),[m,p]=(0,a.useState)(e.likes.length),x=async()=>{if(!s)return void c.Ay.error("Please sign in to like posts");let r=(0,o.H9)(n.db,"posts",e.id);try{t?(await (0,o.mZ)(r,{likes:(0,o.C3)(s.uid)}),p(e=>e-1)):(await (0,o.mZ)(r,{likes:(0,o.hq)(s.uid)}),p(e=>e+1)),u(!t)}catch(e){console.error("Error updating like:",e),c.Ay.error("Failed to update like")}};return(0,r.jsxs)("button",{onClick:x,className:"flex items-center space-x-1 text-gray-500 hover:text-blue-500",children:[t?(0,r.jsx)(d.A,{className:"h-5 w-5 text-blue-500"}):(0,r.jsx)(l.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:m})]})}},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83787:(e,s,t)=>{Promise.resolve().then(t.bind(t,66824))},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[447,61,658,474,49,902,268,564],()=>t(25519));module.exports=r})();